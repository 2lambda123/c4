{"version":3,"sources":["C:/Program Files (x86)/Nodist/bin/node_modules/browserify/node_modules/browser-pack/_prelude.js","dist/js/board.js","dist/js/game.js","dist/js/player-ai.js","dist/js/player-human.js","dist/js/player.js","dist/js/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","BoardPiece","utils_1","Board","canvas","this","row","column","map","push","j","EMPTY","context","getContext","prototype","applyPlayerAction","player","isColumnEverFilled","boardPiece","getPlayerColor","PLAYER_1","PLAYER_2","render","x","y","Utils","drawCircle","fill","stroke","board_1","player_human_1","player_ai_1","Game","board","document","querySelector","players","PlayerHuman","PlayerAi","currentPlayerId","isMoveAllowed","start","move","currentPlayer","actionSuccesful","action","getAction","getNextPlayer","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","player_1","_super","Player","_a","_b","_c","_d","_e","_f","save","fillStyle","strokeStyle","beginPath","arc","Math","PI","restore","drawMask","rect","clearCanvas","clearRect","width","height","isCoordOnColumn","coord","radius"],"mappings":"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","file":"game.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar BoardPiece;\n(function (BoardPiece) {\n    BoardPiece[BoardPiece[\"EMPTY\"] = 0] = \"EMPTY\";\n    BoardPiece[BoardPiece[\"PLAYER_1\"] = 1] = \"PLAYER_1\";\n    BoardPiece[BoardPiece[\"PLAYER_2\"] = 2] = \"PLAYER_2\";\n})(BoardPiece = exports.BoardPiece || (exports.BoardPiece = {}));\nvar Board = (function () {\n    function Board(canvas) {\n        this.row = 6;\n        this.column = 7;\n        this.map = [];\n        for (var i = 0; i < this.row; i++) {\n            this.map.push([]);\n            for (var j = 0; j < this.column; j++) {\n                this.map[i].push(BoardPiece.EMPTY);\n            }\n        }\n        this.canvas = canvas;\n        this.context = canvas.getContext('2d');\n    }\n    Board.prototype.applyPlayerAction = function (player, column) {\n        if (this.map[0][column] !== BoardPiece.EMPTY || column < 0 || column >= this.column) {\n            return false;\n        }\n        var isColumnEverFilled = false;\n        var row = 0;\n        for (var i = 0; i < this.row; i++) {\n            if (this.map[i + 1][column] !== BoardPiece.EMPTY) {\n                isColumnEverFilled = true;\n                row = i;\n                break;\n            }\n        }\n        if (!isColumnEverFilled) {\n            row = this.row - 1;\n        }\n        this.map[row][column] = player.boardPiece;\n        return true;\n    };\n    Board.prototype.getPlayerColor = function (boardPiece) {\n        switch (boardPiece) {\n            case BoardPiece.PLAYER_1: return \"#ff4136\";\n            case BoardPiece.PLAYER_2: return \"#0074d9\";\n            default: return \"transparent\";\n        }\n    };\n    Board.prototype.render = function () {\n        var x, y;\n        for (y = 0; y < this.row; y++) {\n            for (x = 0; x < this.column; x++) {\n                utils_1.Utils.drawCircle(this.context, {\n                    x: 75 * x + 100,\n                    y: 75 * y + 50,\n                    r: 25,\n                    fill: this.getPlayerColor(this.map[y][x]),\n                    stroke: \"black\"\n                });\n            }\n        }\n    };\n    return Board;\n}());\nexports.Board = Board;\n\n//# sourceMappingURL=board.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar board_1 = require(\"./board\");\nvar player_human_1 = require(\"./player-human\");\nvar player_ai_1 = require(\"./player-ai\");\nvar Game = (function () {\n    function Game() {\n        this.board = new board_1.Board(document.querySelector('canvas'));\n        this.players = [new player_human_1.PlayerHuman(board_1.BoardPiece.PLAYER_1), new player_ai_1.PlayerAi(board_1.BoardPiece.PLAYER_2)];\n        this.currentPlayerId = 0;\n        this.isMoveAllowed = false;\n    }\n    Game.prototype.start = function () {\n        this.isMoveAllowed = true;\n    };\n    Game.prototype.move = function () {\n        if (!this.isMoveAllowed) {\n            return;\n        }\n        var currentPlayer = this.players[this.currentPlayerId];\n        var actionSuccesful = false;\n        while (!actionSuccesful) {\n            var action = currentPlayer.getAction(this.board);\n            actionSuccesful = this.board.applyPlayerAction(currentPlayer, action);\n        }\n        this.currentPlayerId = this.getNextPlayer();\n    };\n    Game.prototype.getNextPlayer = function () {\n        return (this.currentPlayerId === 0) ? 1 : 0;\n    };\n    return Game;\n}());\nexports.Game = Game;\n\n//# sourceMappingURL=game.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar player_1 = require(\"./player\");\nvar PlayerAi = (function (_super) {\n    __extends(PlayerAi, _super);\n    function PlayerAi(boardPiece) {\n        return _super.call(this, boardPiece) || this;\n    }\n    PlayerAi.prototype.getAction = function (board) {\n        return 0;\n    };\n    return PlayerAi;\n}(player_1.Player));\nexports.PlayerAi = PlayerAi;\n\n//# sourceMappingURL=player-ai.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar player_1 = require(\"./player\");\nvar PlayerHuman = (function (_super) {\n    __extends(PlayerHuman, _super);\n    function PlayerHuman(boardPiece) {\n        return _super.call(this, boardPiece) || this;\n    }\n    PlayerHuman.prototype.getAction = function (board) {\n        return 0;\n    };\n    return PlayerHuman;\n}(player_1.Player));\nexports.PlayerHuman = PlayerHuman;\n\n//# sourceMappingURL=player-human.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Player = (function () {\n    function Player(boardPiece) {\n        this.boardPiece = boardPiece;\n    }\n    return Player;\n}());\nexports.Player = Player;\n\n//# sourceMappingURL=player.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils = (function () {\n    function Utils() {\n    }\n    Utils.drawCircle = function (context, _a) {\n        var _b = _a.x, x = _b === void 0 ? 0 : _b, _c = _a.y, y = _c === void 0 ? 0 : _c, _d = _a.r, r = _d === void 0 ? 0 : _d, _e = _a.fill, fill = _e === void 0 ? '' : _e, _f = _a.stroke, stroke = _f === void 0 ? '' : _f;\n        context.save();\n        context.fillStyle = fill;\n        context.strokeStyle = stroke;\n        context.beginPath();\n        context.arc(x, y, r, 0, 2 * Math.PI, false);\n        context.fill();\n        context.restore();\n    };\n    Utils.drawMask = function (board) {\n        var context = board.context;\n        context.save();\n        context.fillStyle = \"#ddd\";\n        context.beginPath();\n        var x, y;\n        for (y = 0; y < board.row; y++) {\n            for (x = 0; x < board.column; x++) {\n                context.arc(75 * x + 100, 75 * y + 50, 25, 0, 2 * Math.PI);\n                context.rect(75 * x + 150, 75 * y, -100, 100);\n            }\n        }\n        context.fill();\n        context.restore();\n    };\n    Utils.clearCanvas = function (board) {\n        board.context.clearRect(0, 0, board.canvas.width, board.canvas.height);\n    };\n    Utils.isCoordOnColumn = function (coord, x, radius) {\n        return ((coord.x - x) * (coord.x - x) <= radius * radius);\n    };\n    return Utils;\n}());\nexports.Utils = Utils;\n\n//# sourceMappingURL=utils.js.map\n"]}