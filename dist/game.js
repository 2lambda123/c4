!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:r(0),throw:r(1),return:r(2)}};Object.defineProperty(r,"__esModule",{value:!0});var i,a=e("./utils");!function(e){e[e.EMPTY=0]="EMPTY",e[e.PLAYER_1=1]="PLAYER_1",e[e.PLAYER_2=2]="PLAYER_2",e[e.DRAW=3]="DRAW"}(i=r.BoardPiece||(r.BoardPiece={}));var s=function(){function e(t){this.canvas=t,this.canvas.width=e.CANVAS_WIDTH,this.canvas.height=e.CANVAS_HEIGHT,this.context=t.getContext("2d"),this.reset()}return e.prototype.reset=function(){this.map=[];for(var t=0;t<e.ROWS;t++){this.map.push([]);for(var r=0;r<e.COLUMNS;r++)this.map[t].push(i.EMPTY)}this.winnerBoardPiece=i.EMPTY,a.Utils.clearCanvas(this)},e.prototype.applyPlayerAction=function(t,r){return n(this,void 0,void 0,function(){var n,s,u;return o(this,function(o){switch(o.label){case 0:if(this.map[0][r]!==i.EMPTY||r<0||r>=e.COLUMNS)return[2,!1];for(n=!1,s=0,u=0;u<e.ROWS-1;u++)if(this.map[u+1][r]!==i.EMPTY){n=!0,s=u;break}return n||(s=e.ROWS-1),[4,this.animateAction(s,r,t.boardPiece)];case 1:return o.sent(),this.map[s][r]=t.boardPiece,this.debug(),[4,a.Utils.animationFrame()];case 2:return o.sent(),this.render(),[2,!0]}})})},e.prototype.debug=function(){console.log(this.map.map(function(e){return e.join(" ")}).join("\n"))},e.prototype.getWinner=function(){var t=this;if(this.winnerBoardPiece!==i.EMPTY)return this.winnerBoardPiece;for(var r=[[0,-1],[0,1],[-1,-1],[-1,0],[-1,1],[1,-1],[1,0],[1,1]],n=function(r,o,i,a,s){return s>=4||!(r<0||o<0||r>=e.ROWS||o>=e.COLUMNS||t.map[r][o]!==i)&&n(r+a[0],o+a[1],i,a,s+1)},o=0,a=0;a<e.ROWS;a++)for(var s=0;s<e.COLUMNS;s++){var u=this.map[a][s];if(u!==i.EMPTY)for(var c=0;c<r.length;c++){var l=n(a+r[c][0],s+r[c][1],u,r[c],1);if(l)return this.winnerBoardPiece=u}else o++}return 0===o?this.winnerBoardPiece=i.DRAW:i.EMPTY},e.prototype.announceWinner=function(){if(this.winnerBoardPiece!==i.EMPTY){var t="Thank you for playing - ";t+=this.winnerBoardPiece===i.DRAW?"It's a draw":"Player "+this.winnerBoardPiece+" wins",t+=" - Click to reset",a.Utils.drawText(this.context,{message:t,x:e.MESSAGE_X_BEGIN,y:e.MESSAGE_Y_BEGIN,maxWidth:e.MESSAGE_WIDTH})}},e.prototype.getPlayerColor=function(t){switch(t){case i.PLAYER_1:return e.PLAYER_1_COLOR;case i.PLAYER_2:return e.PLAYER_2_COLOR;default:return"transparent"}},e.prototype.animateAction=function(t,r,i){return n(this,void 0,void 0,function(){var s,u,c,l=this;return o(this,function(f){switch(f.label){case 0:s=this.getPlayerColor(i),u=0,c=function(){return n(l,void 0,void 0,function(){return o(this,function(t){return a.Utils.clearCanvas(this),a.Utils.drawCircle(this.context,{x:3*e.PIECE_RADIUS*r+e.MASK_X_BEGIN+2*e.PIECE_RADIUS,y:u+e.MASK_Y_BEGIN+2*e.PIECE_RADIUS,r:e.PIECE_RADIUS,fillStyle:s,strokeStyle:"black"}),this.render(),u+=e.PIECE_RADIUS,[2]})})},f.label=1;case 1:return 3*t*e.PIECE_RADIUS>=u?[4,a.Utils.animationFrame()]:[3,3];case 2:return f.sent(),c(),[3,1];case 3:return[2]}})})},e.prototype.render=function(){a.Utils.drawMask(this);for(var t=0;t<e.ROWS;t++)for(var r=0;r<e.COLUMNS;r++)a.Utils.drawCircle(this.context,{x:3*e.PIECE_RADIUS*r+e.MASK_X_BEGIN+2*e.PIECE_RADIUS,y:3*e.PIECE_RADIUS*t+e.MASK_Y_BEGIN+2*e.PIECE_RADIUS,r:e.PIECE_RADIUS,fillStyle:this.getPlayerColor(this.map[t][r]),strokeStyle:"black"})},e}();s.ROWS=6,s.COLUMNS=7,s.CANVAS_HEIGHT=480,s.CANVAS_WIDTH=640,s.PLAYER_1_COLOR="#ff4136",s.PLAYER_2_COLOR="#0074d9",s.PIECE_RADIUS=25,s.MASK_COLOR="#dddddd",s.MASK_X_BEGIN=Math.max(0,s.CANVAS_WIDTH-(3*s.COLUMNS+1)*s.PIECE_RADIUS)/2,s.MASK_Y_BEGIN=Math.max(0,s.CANVAS_HEIGHT-(3*s.ROWS+1)*s.PIECE_RADIUS)/2,s.MESSAGE_WIDTH=400,s.MESSAGE_X_BEGIN=(s.CANVAS_WIDTH-s.MESSAGE_WIDTH)/2,s.MESSAGE_Y_BEGIN=20,r.Board=s},{"./utils":8}],2:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:r(0),throw:r(1),return:r(2)}};Object.defineProperty(r,"__esModule",{value:!0});var i=e("./board"),a=function(){function e(e,t){this.board=new i.Board(t),this.players=e,this.currentPlayerId=0,this.reset()}return e.prototype.reset=function(){this.isMoveAllowed=!1,this.isGameWon=!1,this.board.reset(),this.board.render(),this.board.debug()},e.prototype.start=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:this.isMoveAllowed=!0,t.label=1;case 1:return this.isGameWon?[3,3]:[4,this.move()];case 2:return t.sent(),e=this.board.getWinner(),e!==i.BoardPiece.EMPTY?(console.log("Game over: winner is player ",e),this.isGameWon=!0,this.isMoveAllowed=!1,this.board.announceWinner(),[3,3]):[3,1];case 3:return[2]}})})},e.prototype.move=function(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:if(!this.isMoveAllowed)return[2];e=this.players[this.currentPlayerId],t=!1,n.label=1;case 1:return t?[3,4]:[4,e.getAction(this.board)];case 2:return r=n.sent(),this.isMoveAllowed=!1,[4,this.board.applyPlayerAction(e,r)];case 3:return t=n.sent(),this.isMoveAllowed=!0,t||console.log("Move not allowed! Try again."),[3,1];case 4:return this.currentPlayerId=this.getNextPlayer(),[2]}})})},e.prototype.getNextPlayer=function(){return 0===this.currentPlayerId?1:0},e}();r.GameBase=a},{"./board":1}],3:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:r(0),throw:r(1),return:r(2)}},a=this;Object.defineProperty(r,"__esModule",{value:!0});var s=e("./board"),u=e("./game-base"),c=e("./player-human-flyweb"),l=e("./player-human-flyweb-client"),f=e("./utils"),h=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t}(u.GameBase);r.Game=h,document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("canvas"),t=new h([new c.PlayerHumanFlyweb(s.BoardPiece.PLAYER_1,e),new l.PlayerHumanFlywebClient(s.BoardPiece.PLAYER_2,e)],e);t.start(),e.addEventListener("click",function(){return o(a,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t.isGameWon?(t.reset(),[4,f.Utils.animationFrame()]):[3,2];case 1:e.sent(),t.start(),e.label=2;case 2:return[2]}})})})})},{"./board":1,"./game-base":2,"./player-human-flyweb":5,"./player-human-flyweb-client":4,"./utils":8}],4:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./player-human"),i=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t}(o.PlayerHuman);r.PlayerHumanFlywebClient=i},{"./player-human":6}],5:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:r(0),throw:r(1),return:r(2)}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("./player-human"),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.BASE_URL=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")),n.browser=navigator,n.initServer(),n}return n(t,e),t.prototype.fetch=function(e,t){return o(this,void 0,void 0,function(){var r,n,o,a;return i(this,function(i){switch(i.label){case 0:return[4,fetch(this.BASE_URL+t)];case 1:return r=i.sent(),n=r.headers.get("Content-Type"),[4,r.blob()];case 2:return o=i.sent(),a={"Content-Type":n},console.log("Response is: ",t),e.respondWith(new Promise(function(e){return e(new Response(o,{headers:a}))})),[2]}})})},t.prototype.initServer=function(){return o(this,void 0,void 0,function(){var e,t=this;return i(this,function(r){switch(r.label){case 0:return"publishServer"in this.browser?[4,this.browser.publishServer("c4 - Connect Four")]:(window.alert("FlyWeb requires Firefox Developer Edition and enabling a flag at about:config"),[2,!1]);case 1:return e=r.sent(),e.onfetch=function(e){return o(t,void 0,void 0,function(){var t,r,n;return i(this,function(o){switch(t=e.request.url.split("?"),r=t[0],n=new URLSearchParams(t[1]),console.log("Requested for url: ",r,n),r){case"/dist/game.js":this.fetch(e,"/dist/game-client.js");break;default:this.fetch(e,r)}return[2]})})},[2]}})})},t}(a.PlayerHuman);r.PlayerHumanFlyweb=s},{"./player-human":6}],6:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:r(0),throw:r(1),return:r(2)}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("./player"),s=e("./utils"),u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.clickPromiseResolver=null,r.addEventListener("click",function(e){try{n.handleClick(e)}catch(e){console.error(e)}}),n}return n(t,e),t.prototype.handleClick=function(e){var t=this.canvas.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,o=s.Utils.getColumnFromCoord({x:r,y:n});console.log(this.boardPiece,this.clickPromiseResolver),this.clickPromiseResolver&&this.clickPromiseResolver(o)},t.prototype.getAction=function(e){return o(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t){return e.clickPromiseResolver=t})]})})},t}(a.Player);r.PlayerHuman=u},{"./player":7,"./utils":8}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){this.boardPiece=e,this.canvas=t}return e}();r.Player=n},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./board"),o=function(){function e(){}return e.drawText=function(t,r){var n=r.message,o=void 0===n?"":n,i=r.x,a=void 0===i?0:i,s=r.y,u=void 0===s?0:s,c=r.fillStyle,l=void 0===c?"#111":c,f=r.font,h=void 0===f?"12pt sans-serif":f,d=r.maxWidth,p=void 0===d?e.BIG_POSITIVE_NUMBER:d;t.save(),t.font=h,t.fillStyle=l,t.fillText(o,a,u,p),t.restore()},e.drawCircle=function(e,t){var r=t.x,n=void 0===r?0:r,o=t.y,i=void 0===o?0:o,a=t.r,s=void 0===a?0:a,u=t.fillStyle,c=void 0===u?"":u,l=t.strokeStyle,f=void 0===l?"":l;e.save(),e.fillStyle=c,e.strokeStyle=f,e.beginPath(),e.arc(n,i,s,0,2*Math.PI,!1),e.fill(),e.restore()},e.drawMask=function(e){var t=e.context;t.save(),t.fillStyle=n.Board.MASK_COLOR,t.beginPath();for(var r=2*n.Board.PIECE_RADIUS,o=3*n.Board.PIECE_RADIUS,i=0;i<n.Board.ROWS;i++)for(var a=0;a<n.Board.COLUMNS;a++)t.arc(o*a+n.Board.MASK_X_BEGIN+r,o*i+n.Board.MASK_Y_BEGIN+r,n.Board.PIECE_RADIUS,0,2*Math.PI),t.rect(o*a+n.Board.MASK_X_BEGIN+2*r,o*i+n.Board.MASK_Y_BEGIN,-2*r,2*r);t.fill(),t.restore()},e.clearCanvas=function(e){e.context.clearRect(0,0,e.canvas.width,e.canvas.height)},e.isCoordOnColumn=function(e,t,r){return(e.x-t)*(e.x-t)<=r*r},e.getColumnFromCoord=function(t){for(var r=0;r<n.Board.COLUMNS;r++)if(e.isCoordOnColumn(t,3*n.Board.PIECE_RADIUS*r+n.Board.MASK_X_BEGIN+2*n.Board.PIECE_RADIUS,n.Board.PIECE_RADIUS))return r;return-1},e.getRandomColumnNumber=function(){return Math.floor(Math.random()*n.Board.COLUMNS)},e.choose=function(e){return e[Math.floor(Math.random()*e.length)]},e.animationFrame=function(){var e=null,t=new Promise(function(t){return e=t});return window.requestAnimationFrame(e),t},e.clone=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r].slice();return t},e.getMockPlayerAction=function(t,r,o){var i=e.clone(t);if(i[0][o]!==n.BoardPiece.EMPTY||o<0||o>=n.Board.COLUMNS)return{success:!1,map:i};for(var a=!1,s=0,u=0;u<n.Board.ROWS-1;u++)if(i[u+1][o]!==n.BoardPiece.EMPTY){a=!0,s=u;break}return a||(s=n.Board.ROWS-1),i[s][o]=r,{success:!0,map:i}},e}();o.BIG_POSITIVE_NUMBER=Math.pow(10,9)+7,o.BIG_NEGATIVE_NUMBER=-o.BIG_POSITIVE_NUMBER,r.Utils=o},{"./board":1}]},{},[3]);
//# sourceMappingURL=game.js.map
