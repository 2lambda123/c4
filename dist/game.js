!function t(r,e,o){function n(a,u){if(!e[a]){if(!r[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[a]={exports:{}};r[a][0].call(l.exports,function(t){var e=r[a][1][t];return n(e?e:t)},l,l.exports,t,r,e,o)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=t("./utils");!function(t){t[t.EMPTY=0]="EMPTY",t[t.PLAYER_1=1]="PLAYER_1",t[t.PLAYER_2=2]="PLAYER_2"}(o=e.BoardPiece||(e.BoardPiece={}));var i=function(){function t(t){this.row=6,this.column=7,this.map=[];for(var r=0;r<this.row;r++){this.map.push([]);for(var e=0;e<this.column;e++)this.map[r].push(o.EMPTY)}this.canvas=t,this.context=t.getContext("2d")}return t.prototype.applyPlayerAction=function(t,r){if(this.map[0][r]!==o.EMPTY||r<0||r>=this.column)return!1;for(var e=!1,n=0,i=0;i<this.row;i++)if(this.map[i+1][r]!==o.EMPTY){e=!0,n=i;break}return e||(n=this.row-1),this.map[n][r]=t.boardPiece,!0},t.prototype.getPlayerColor=function(t){switch(t){case o.PLAYER_1:return"#ff4136";case o.PLAYER_2:return"#0074d9";default:return"transparent"}},t.prototype.render=function(){var t,r;for(r=0;r<this.row;r++)for(t=0;t<this.column;t++)n.Utils.drawCircle(this.context,{x:75*t+100,y:75*r+50,r:25,fill:this.getPlayerColor(this.map[r][t]),stroke:"black"})},t}();e.Board=i},{"./utils":6}],2:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./board"),n=t("./player-human"),i=t("./player-ai"),a=function(){function t(){this.board=new o.Board(document.querySelector("canvas")),this.players=[new n.PlayerHuman(o.BoardPiece.PLAYER_1),new i.PlayerAi(o.BoardPiece.PLAYER_2)],this.currentPlayerId=0,this.isMoveAllowed=!1}return t.prototype.start=function(){this.isMoveAllowed=!0},t.prototype.move=function(){if(this.isMoveAllowed){for(var t=this.players[this.currentPlayerId],r=!1;!r;){var e=t.getAction(this.board);r=this.board.applyPlayerAction(t,e)}this.currentPlayerId=this.getNextPlayer()}},t.prototype.getNextPlayer=function(){return 0===this.currentPlayerId?1:0},t}();e.Game=a},{"./board":1,"./player-ai":3,"./player-human":4}],3:[function(t,r,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=t("./player"),i=function(t){function r(r){return t.call(this,r)||this}return o(r,t),r.prototype.getAction=function(t){return 0},r}(n.Player);e.PlayerAi=i},{"./player":5}],4:[function(t,r,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=t("./player"),i=function(t){function r(r){return t.call(this,r)||this}return o(r,t),r.prototype.getAction=function(t){return 0},r}(n.Player);e.PlayerHuman=i},{"./player":5}],5:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.boardPiece=t}return t}();e.Player=o},{}],6:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.drawCircle=function(t,r){var e=r.x,o=void 0===e?0:e,n=r.y,i=void 0===n?0:n,a=r.r,u=void 0===a?0:a,c=r.fill,s=void 0===c?"":c,l=r.stroke,f=void 0===l?"":l;t.save(),t.fillStyle=s,t.strokeStyle=f,t.beginPath(),t.arc(o,i,u,0,2*Math.PI,!1),t.fill(),t.restore()},t.drawMask=function(t){var r=t.context;r.save(),r.fillStyle="#ddd",r.beginPath();var e,o;for(o=0;o<t.row;o++)for(e=0;e<t.column;e++)r.arc(75*e+100,75*o+50,25,0,2*Math.PI),r.rect(75*e+150,75*o,-100,100);r.fill(),r.restore()},t.clearCanvas=function(t){t.context.clearRect(0,0,t.canvas.width,t.canvas.height)},t.isCoordOnColumn=function(t,r,e){return(t.x-r)*(t.x-r)<=e*e},t}();e.Utils=o},{}]},{},[2]);
//# sourceMappingURL=game.js.map
