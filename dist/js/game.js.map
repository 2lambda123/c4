{"version":3,"sources":["game.ts"],"names":[],"mappings":";;AAAA,iCAA0C;AAE1C,+CAA2C;AAC3C,yCAAqC;AAErC;IAME;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,aAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,0BAAW,CAAC,kBAAU,CAAC,QAAQ,CAAC,EAAE,IAAI,oBAAQ,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IACD,oBAAK,GAAL;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IACD,mBAAI,GAAJ;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACxB,MAAM,CAAA;QACR,CAAC;QACD,IAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACzD,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,OAAO,CAAC,eAAe,EAAE,CAAC;YACxB,IAAM,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnD,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QACxE,CAAC;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAC9C,CAAC;IACO,4BAAa,GAArB;QACE,MAAM,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IACH,WAAC;AAAD,CA9BA,AA8BC,IAAA;AA9BY,oBAAI","file":"game.js","sourcesContent":["import {Board, BoardPiece} from './board';\r\nimport {Player} from './player';\r\nimport {PlayerHuman} from './player-human';\r\nimport {PlayerAi} from './player-ai';\r\n\r\nexport class Game {\r\n  board: Board;\r\n  players: Array<Player>;\r\n  currentPlayerId: number;\r\n  isMoveAllowed: boolean;\r\n\r\n  constructor() {\r\n    this.board = new Board(document.querySelector('canvas'));\r\n    this.players = [new PlayerHuman(BoardPiece.PLAYER_1), new PlayerAi(BoardPiece.PLAYER_2)];\r\n    this.currentPlayerId = 0;\r\n    this.isMoveAllowed = false;\r\n  }\r\n  start() {\r\n    this.isMoveAllowed = true;\r\n  }\r\n  move() {\r\n    if (!this.isMoveAllowed) {\r\n      return\r\n    }\r\n    const currentPlayer = this.players[this.currentPlayerId];\r\n    let actionSuccesful = false;\r\n    while (!actionSuccesful) {\r\n      const action = currentPlayer.getAction(this.board);\r\n      actionSuccesful = this.board.applyPlayerAction(currentPlayer, action);\r\n    }\r\n    this.currentPlayerId = this.getNextPlayer();\r\n  }\r\n  private getNextPlayer() {\r\n    return (this.currentPlayerId === 0) ? 1 : 0;\r\n  }\r\n}"]}