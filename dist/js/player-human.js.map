{"version":3,"sources":["player-human.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAkC;AAElC,iCAAgC;AAEhC;IAAiC,+BAAM;IAIrC,qBAAY,UAAsB,EAAE,KAAY;QAAhD,YACE,kBAAM,UAAU,CAAC,SAWlB;QAVC,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAA;QAChC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAEnB,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,GAAG;YACrC,IAAI,CAAC;gBACH,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;YACvB,CAAC;YAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;YAClB,CAAC;QACH,CAAC,CAAC,CAAA;;IACJ,CAAC;IAEO,iCAAW,GAAnB,UAAoB,KAAiB;QACnC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAA;QACtD,IAAM,CAAC,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAA;QACnC,IAAM,CAAC,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAA;QAClC,IAAM,MAAM,GAAG,aAAK,CAAC,kBAAkB,CAAC,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC,CAAA;QACrD,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAA;IACnC,CAAC;IAEK,+BAAS,GAAf,UAAgB,KAAY;;;;gBAC1B,sBAAO,IAAI,OAAO,CAAS,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,oBAAoB,GAAG,CAAC,EAA7B,CAA6B,CAAC,EAAA;;;KAC/D;IACH,kBAAC;AAAD,CA7BA,AA6BC,CA7BgC,eAAM,GA6BtC;AA7BY,kCAAW","file":"player-human.js","sourcesContent":["import { Player } from './player';\r\nimport { Board, BoardPiece } from './board';\r\nimport { Utils } from './utils';\r\n\r\nexport class PlayerHuman extends Player {\r\n  clickPromiseResolver: any;\r\n  board: Board;\r\n\r\n  constructor(boardPiece: BoardPiece, board: Board) {\r\n    super(boardPiece)\r\n    this.clickPromiseResolver = null\r\n    this.board = board;\r\n\r\n    document.addEventListener('click', (evt) => {\r\n      try {\r\n        this.handleClick(evt)\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  private handleClick(event: MouseEvent) {\r\n    const rect = this.board.canvas.getBoundingClientRect()\r\n    const x = event.clientX - rect.left\r\n    const y = event.clientY - rect.top\r\n    const column = Utils.getColumnFromCoord({x: x, y: y})\r\n    this.clickPromiseResolver(column)\r\n  }\r\n\r\n  async getAction(board: Board): Promise<number> {\r\n    return new Promise<number>(r => this.clickPromiseResolver = r)\r\n  }\r\n}\r\n"]}