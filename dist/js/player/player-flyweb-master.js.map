{"version":3,"sources":["player/player-flyweb-master.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sBAAwC;AAIxC;IAAwC,sCAAW;IAIjD,4BAAY,UAAsB,EAAE,MAAyB;QAA7D,YACE,kBAAM,UAAU,EAAE,MAAM,CAAC,SAE1B;QADC,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAA;;IAClC,CAAC;IAED,qCAAQ,GAAR,UAAS,MAAc;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAA;QACnC,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACjB,MAAM,KAAK,CAAC,0CAA0C,CAAC,CAAA;QACzD,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YAC9B,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE;gBACJ,MAAM,EAAE,MAAM;aACf;SACF,CAAC,CAAC,CAAA;IACL,CAAC;IAEK,sCAAS,GAAf,UAAgB,KAAY;;;;gBAC1B,sBAAO,IAAI,OAAO,CAAS,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,oBAAoB,GAAG,CAAC,EAA7B,CAA6B,CAAC,EAAA;;;KAC/D;IACH,yBAAC;AAAD,CA3BA,AA2BC,CA3BuC,cAAW,GA2BlD;AA3BY,gDAAkB","file":"player-flyweb-master.js","sourcesContent":["import { Player, PlayerHuman } from '.';\r\nimport { Board, BoardPiece } from '../board';\r\nimport { Utils } from '../utils';\r\n\r\nexport class PlayerFlywebMaster extends PlayerHuman {\r\n  clickPromiseResolver: any;\r\n  socket: WebSocket;\r\n\r\n  constructor(boardPiece: BoardPiece, canvas: HTMLCanvasElement) {\r\n    super(boardPiece, canvas)\r\n    this.clickPromiseResolver = null\r\n  }\r\n\r\n  doAction(column: number) {\r\n    if (this.clickPromiseResolver) {\r\n      this.clickPromiseResolver(column)\r\n    }\r\n    if (!this.socket) {\r\n      throw Error(\"PlayerFlywebMaster need WebSocket object\")\r\n    }\r\n    this.socket.send(JSON.stringify({\r\n      type: 'move',\r\n      data: {\r\n        column: column\r\n      }\r\n    }))\r\n  }\r\n\r\n  async getAction(board: Board): Promise<number> {\r\n    return new Promise<number>(r => this.clickPromiseResolver = r)\r\n  }\r\n}\r\n"]}